<!--
/*
 * Copyright (c) 2017-2018 
 *
 * by Rafael Angel Aznar Aparici (rafaaznar at gmail dot com) & DAW students
 * 
 * ADISAN: Free Open Source Health Management System
 *
 *
 * Sources at:                https://github.com/rafaelaznar/adisan
 *                            
 * Database at:               https://github.com/rafaelaznar/adisan-database
 *
 * ADISAN is distributed under the MIT License (MIT)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
-->
<menu></menu>
<div id="wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <header ob="'usuario'" op="'login'"></header>
                    </div>
                    <div class="panel-body" ng-cloak>
                        <div class="row-fluid">

                            <div class="col-md-4 col-md-offset-4">

                                <div class="panel panel-default">
                                    <div class="panel-heading">Entra en el sistema</div>
                                    <div class="panel-body">
                                        <div class="dropdown"  ng-if="debugging">
                                            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                Perfiles de prueba
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"  ng-if="debugging" >
                                                <li class="dropdown-header">Administrador:</li>

                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('rafael')">rafael</a></li>

                                                <li class="dropdown-header">Coordinador:</li>

                                                <li><a href="#" ng-if="debugging"   ng-click="fill('coordinadora')">coordinadora</a></li>
                                                <li role="separator" class="divider"></li>

                                                <li class="dropdown-header">Profesor:</li>

                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('mariajose')">mariajose</a></li>
                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('isabel')">isabel</a></li>
                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('maria')">maria</a></li>

                                                <li role="separator" class="divider"></li>
                                                <li class="dropdown-header">Alumno mariajose:</li>

                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('pepe')">pepe</a></li>
                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('raquel')">raquel</a></li>
                                                <li><a href="#"  ng-if="debugging"    ng-click="fill('carlos')">carlos</a></li>

                                                <li role="separator" class="divider"></li>
                                                <li class="dropdown-header">Alumno isabel:</li>

                                                <li><a href="#" ng-if="debugging"    ng-click="fill('sergio')">sergio</a></li>
                                                <li><a href="#" ng-if="debugging"    ng-click="fill('ana')">ana</a></li>

                                                <li role="separator" class="divider"></li>
                                                <li class="dropdown-header">Alumno maria:</li>

                                                <li><a href="#" ng-if="debugging"    ng-click="fill('sandra')">sandra</a></li>
                                                <li><a href="#" ng-if="debugging"    ng-click="fill('eva')">eva</a></li>

                                                <li role="separator" class="divider"></li>
                                                <li class="dropdown-header">Visitante:</li>

                                                <li><a href="#" ng-if="debugging"    ng-click="fill('visitante')">visitante</a></li>                                                

                                                <li role="separator" class="divider"></li>
                                                <li class="dropdown-header">Registros de alumnos grupo maria josé:</li>

                                                <li><a href="#" ng-if="debugging"    ng-click="fillRegistro('ausias-mariajose-2016-2017')">ausias-mariajose-2016-2017</a></li>

                                                <li class="dropdown-header">Registros de alumnos grupo isabel:</li>
                                                <li><a href="#" ng-if="debugging"    ng-click="fillRegistro('ausias-isabel-2016-2017')">ausias-isabel-2016-2017</a></li>
                                                <li class="dropdown-header"> Registros de alumnos grupo maria:</li>

                                                <li><a href="#" ng-if="debugging"    ng-click="fillRegistro('sagunto-maria-2016-2017')">sagunto-maria-2016-2017</a></li>
                                                <li role="separator" class="divider"></li>
                                            </ul>
                                        </div>
                                        <br>
                                        <form id="loginform" name="form" ng-submit="login()" role="form">
                                            <div class="form-group" ng-class="{
                                                    'has-error': form.username.$dirty && form.username.$error.required }">
                                                <label for="username">Usuario:</label>
                                                <input type="text" name="username" id="username" class="form-control" ng-model="user.username" required value="rafa" value="rafael" />
                                                <span ng-if="form.username.$dirty && form.username.$error.required" class="help-block">Debes introducir un nombre de usuario</span>
                                            </div>
                                            <div class="form-group" ng-class="{
                                                    'has-error': form.password.$dirty && form.password.$error.required }">
                                                <label for="password">Contraseña:</label>
                                                <input type="password" name="password" id="password" class="form-control" ng-model="user.password" required value="rafa" value="rafael" />
                                                <span ng-if="form.password.$dirty && form.password.$error.required" class="help-block">Debes introducir un password</span>
                                            </div>
                                            
                                            
                                            <!-- actualmente el captcha esta deshabilitado -->
                                            <!-- 
                                            <div class="form-group" style="margin-top: 20px;" ng-if="!debugging">
                                                <div class="g-recaptcha" id="recaptcha" name="recaptcha" data-sitekey="6Ld28lkUAAAAAOSlvZ7CKxSq-4xxgg_wAA25Xd7Q"></div>
                                            </div>
                                            -->
                                            
                                            
                                            
                                            <div class="form-actions">
                                                <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">Login</button>                                                
                                            </div>    
                                        </form>
                                        <br />
                                        <div class="panel panel-default">
                                            <div class="panel-heading">¿Eres alumno y no tienes cuenta?</div>
                                            <div class="panel-body">
                                                Pide a tu profesor el código para darte de alta e introdúcelo aqui:
                                                <div class="form-group">
                                                    <label for="key">Clave:</label>
                                                    <input type="key" name="key" id="key" class="form-control" ng-model="user.key"  value="rafa" value="rafael" />
                                                    <br />
                                                    <button class="btn btn-primary" ng-click="checkGrupo()">Registrarme</button>
                                                    <span ng-if="checkGrupoStatusMsg" class="help-block">{{checkGrupoStatusMsg}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="panel-footer" style="font-family: Questrial, serif;" ng-include="'js/system/include/footer.html'"></div>
                </div>

            </div>

        </div>
    </div>
</div>

